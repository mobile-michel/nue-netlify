var u=Object.create;var{getPrototypeOf:l,defineProperty:c,getOwnPropertyNames:p}=Object;var d=Object.prototype.hasOwnProperty;var f=(t,e,n)=>{n=t!=null?u(l(t)):{};let i=e||!t||!t.__esModule?c(n,"default",{value:t,enumerable:!0}):n;for(let o of p(t))if(!d.call(i,o))c(i,o,{get:()=>t[o],enumerable:!0});return i};var m=((t)=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,n)=>(typeof require<"u"?require:e)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});async function g(t){let e=document.querySelectorAll("[nue]"),n=e.length?await w(t):[];if(!n.length)return;let{mount:i}=await import("/@nue/nue.js");for(let o of[...e]){let a=o.getAttribute("nue")||o.tagName.toLowerCase(),s=n.find((r)=>[r.is,r.tag].includes(a));if(console.info(o,!s),s)i(s,{root:o,deps:n,data:h(o)}).root.setAttribute("nue",a)}}function h(t){if(t.firstChild?.tagName=="SCRIPT")t.after(t.firstChild);let e=t.nextElementSibling;if(e?.type=="application/json")return JSON.parse(e.textContent)}function b(){let t=document.querySelector('[name="libs"]');return t?t.getAttribute("content").split(" "):[]}var C=0;async function w(t){let e=[];for(let n of b()){let i=n==t?`?${C++}`:"",{lib:o}=await import(`/${n}.js${i}`);if(o)e.push(...o)}return e}addEventListener("route",()=>g());addEventListener("DOMContentLoaded",()=>dispatchEvent(new Event("route")));export{g as mountAll,b as getImportPaths};
